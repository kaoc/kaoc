<div class="page-title">
  <div>
    <h2>Manage Events</h2>
  </div>
</div>
<div class="card">
  <div class="event-mgmt">

      <h4>Upcoming & Live Events</h4>

      <div *ngIf="!eventsLoaded">Loading..</div>
      <div *ngIf="eventsLoaded && (upcomingEvents == null || upcomingEvents.length == 0)">No Upcoming Events.</div>

      <mat-card class="example-card" *ngFor="let event of upcomingEvents">
          <mat-card-title-group>
              <mat-card-title>{{event.name}}</mat-card-title>
              <mat-card-subtitle>
                  {{event.location}}
                  <div>{{event.startTime|date:"short"}}</div>
              </mat-card-subtitle>
              <img mat-card-md-image [src]="event.eventThumbnailUrl" [alt]="event.name">
          </mat-card-title-group>
          <mat-card-content>
              <div>
                  <span class="total-check-in-title">Total Check-Ins:&nbsp;</span>
                  <mat-chip>{{getTotalCheckInCount(event)}}</mat-chip>
              </div>
              <br>
              <div>
                  <span class="check-in-title">Adult Members:</span>
                  <mat-chip class="check-in-value">{{event.totalAdultMemberCheckins}}</mat-chip>
                  &nbsp;
                  <span class="check-in-title">Adult Tickets:</span>
                  <mat-chip class="check-in-value">{{event.totalAdultEventTicketCheckins}}</mat-chip>
              </div>
              <div>
                  <span class="check-in-title">Child Members:</span><mat-chip class="check-in-value">{{event.totalChildMemberCheckins}}</mat-chip>
                  &nbsp;
                  <span class="check-in-title">Child Members:</span><mat-chip class="check-in-value">{{event.totalChildEventTicketChecks}}</mat-chip>
              </div>
              <mat-card-footer>
                  <button mat-button (click)="confirmAndSendPaasEventEmail(event.kaocEventId, event.name)">Send Event Email</button>
                  <button mat-button (click)="refreshEventDetails(event.kaocEventId)">Refresh</button>
              </mat-card-footer>
          </mat-card-content>
      </mat-card>
      <br>

      <h4>Past Events</h4>
      <div *ngIf="!pastEventsLoaded">Loading..</div>
      <div *ngIf="pastEventsLoaded && (pastEvents == null || pastEvents.length == 0)">No Past Events.</div>

      <mat-card class="example-card" *ngFor="let event of pastEvents">
        <mat-card-title-group>
          <mat-card-title>{{event.name}}</mat-card-title>
          <mat-card-subtitle>
              <a *ngIf="event.mapsLink" [href]="event.mapsLink" target="_blank">
                  {{event.location}}
              </a>
              <span *ngIf="!event.mapsLink">{{event.location}}</span>
              <div>{{event.startTime|date:"short"}}</div>
          </mat-card-subtitle>
          <img mat-card-md-image [src]="event.eventThumbnailUrl" [alt]="event.name">
        </mat-card-title-group>
        <mat-card-content>
          <div>
              <span class="total-check-in-title">Total Check-Ins:&nbsp;</span>
              <mat-chip>{{getTotalCheckInCount(event)}}</mat-chip>
          </div>
          <br>
          <div>
              <span class="check-in-title">Adult Members:</span>
              <mat-chip class="check-in-value">{{event.totalAdultMemberCheckins}}</mat-chip>
              &nbsp;
              <span class="check-in-title">Adult Tickets:</span>
              <mat-chip class="check-in-value">{{event.totalAdultEventTicketCheckins}}</mat-chip>
          </div>
          <div>
              <span class="check-in-title">Child Members:</span><mat-chip class="check-in-value">{{event.totalChildMemberCheckins}}</mat-chip>
              &nbsp;
              <span class="check-in-title">Child Members:</span><mat-chip class="check-in-value">{{event.totalChildEventTicketChecks}}</mat-chip>
          </div>
          <mat-card-footer>
              <button mat-button (click)="refreshEventDetails(event.kaocEventId)">Refresh</button>
          </mat-card-footer>
        </mat-card-content>
      </mat-card>
      <br>
  </div>
</div>
